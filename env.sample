# 🔐 ENVIRONMENT VARIABLES SAMPLE
# ================================
# Copy this file to .env and fill in your actual values

# ==========================================
# 🗄️ SUPABASE CONFIGURATION (Durable Storage)
# ==========================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# ==========================================
# 🚀 REDIS CLOUD CONFIGURATION (Hot Cache)
# ==========================================
# Redis Cloud connection details from https://app.redislabs.com/
REDISHOST=redis-17514.c92.us-east-1-3.ec2.redns.redis-cloud.com
REDISPORT=17514
REDISUSER=default
REDISPASSWORD=your_redis_password_here
REDIS_URL=rediss://default:your_redis_password_here@redis-17514.c92.us-east-1-3.ec2.redns.redis-cloud.com:17514
REDIS_CONNECTION_STRING=${REDIS_URL}

# ==========================================
# 🐦 TWITTER API CONFIGURATION
# ==========================================
TWITTER_API_KEY=your_api_key_here
TWITTER_API_SECRET=your_api_secret_here
TWITTER_ACCESS_TOKEN=your_access_token_here
TWITTER_ACCESS_TOKEN_SECRET=your_access_token_secret_here
TWITTER_BEARER_TOKEN=your_bearer_token_here

# Optional: Twitter automation credentials
TWITTER_EMAIL=your_twitter_email@example.com
TWITTER_USERNAME=your_twitter_username
TWITTER_PASSWORD=your_twitter_password

# ==========================================
# 🤖 OPENAI CONFIGURATION
# ==========================================
OPENAI_API_KEY=sk-your_openai_api_key_here

# ==========================================
# 🔧 SYSTEM CONFIGURATION
# ==========================================
# Environment mode
NODE_ENV=production

# Database mode (set to 'true' to use only Supabase, bypassing Redis)
USE_SUPABASE_ONLY=false

# Daily limits
DAILY_TWEET_LIMIT=17
DAILY_AI_BUDGET_LIMIT=7.50

# ==========================================
# 💰 COST LOGGING
# ==========================================
COST_LOGGING_ENABLED=true
COST_LOG_TABLE=openai_usage_log
SUPABASE_SCHEMA=public

# ==========================================
# 🔗 REDIS MANAGED PROVIDER SETTINGS
# ==========================================
# Skip CONFIG commands on managed Redis (Railway, AWS ElastiCache, etc.)
REDIS_DISABLE_CONFIG=true

# ==========================================
# 🎭 PLAYWRIGHT HARDENING
# ==========================================
PLAYWRIGHT_FOCUS_RETRIES=4
PLAYWRIGHT_FOCUS_TIMEOUT_MS=12000
PLAYWRIGHT_REPLY_TIMEOUT_MS=12000
PLAYWRIGHT_COMPOSER_STRICT=true

# ==========================================
# 🛡️ CONTENT SAFETY & FACT CHECKING
# ==========================================
FACT_CHECK_MODE=light  # off | light | strict

# ==========================================
# 💰 OPENAI BUDGET & COST CONTROL
# ==========================================
COST_TRACKER_ENABLED=true
DAILY_COST_LIMIT_USD=5.00
COST_TRACKER_STRICT=true
COST_TRACKER_ROLLOVER_TZ=UTC
COST_TRACKER_MODEL_MULTIPLIERS={}

# ==========================================
# 🔗 REDIS COST BREAKER
# ==========================================
REDIS_COST_KEY_PREFIX=openai_cost
REDIS_BUDGET_TTL_SECONDS=172800
REDIS_BREAKER_ENABLED=true

# ==========================================
# 📊 SUPABASE COST LOGGING
# ==========================================
COST_LOGGING_STORAGE=supabase
COST_LOGGING_TABLE=openai_usage_log

# ==========================================
# 🎯 BUDGET OPTIMIZER
# ==========================================
BUDGET_OPTIMIZER_ENABLED=true
BUDGET_STRATEGY=adaptive              # adaptive|conservative  
BUDGET_PEAK_HOURS=17-23              # UTC hours for higher spending
BUDGET_MIN_RESERVE_USD=0.50          # Emergency reserve buffer

# ==========================================
# 🔄 AUTOMATIC MIGRATIONS
# ==========================================
RUN_MIGRATIONS=true                  # Auto-run migrations on startup
DATABASE_URL=                        # Direct DB connection for DDL (optional)

# ==========================================
# 🧵 THREAD CONFIGURATION
# ==========================================
THREAD_PIPELINE_ONLY=true
ENABLE_THREADS=true
THREAD_FORCE_SEGMENTS=true
THREAD_SEGMENT_DELIMITER="---"
THREAD_NUMBERING_REGEX="^\s*\d+/\d+\b"

# ==========================================
# 🎭 BROWSER AUTOMATION (Optional)
# ==========================================
# Skip Playwright installation (for Railway builds)
SKIP_PLAYWRIGHT=false

# Browser configuration
# PLAYWRIGHT_BROWSERS_PATH is set automatically in Dockerfile to /ms-playwright
PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=false

# ==========================================
# 📊 MONITORING & LOGGING (Optional)
# ==========================================
# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Enable detailed analytics logging
ENABLE_ANALYTICS_LOGGING=true

# ==========================================
# 💡 CONFIGURATION NOTES
# ==========================================
# 
# Redis Setup:
# 1. Go to https://app.redislabs.com/
# 2. Create a new database
# 3. Copy the connection details above
# 4. Use REDIS_URL for primary connection
# 
# Supabase Setup:
# 1. Go to https://supabase.com/dashboard
# 2. Create a new project
# 3. Go to Settings > API
# 4. Copy URL and service role key
# 
# Twitter API Setup:
# 1. Go to https://developer.twitter.com/
# 2. Create a new app with read/write permissions
# 3. Generate API keys and access tokens
# 
# OpenAI Setup:
# 1. Go to https://platform.openai.com/api-keys
# 2. Create a new API key
# 3. Set usage limits for cost control