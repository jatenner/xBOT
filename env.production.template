# xBOT Production Environment Template
# Copy to .env and fill in your values

# =============================================================================
# DATABASE CONFIGURATION (Supabase Transaction Pooler)
# =============================================================================
# Use the Transaction Pooler URL for better performance and connection handling
# Format: postgres://postgres:PASSWORD@db.PROJECT_REF.supabase.co:6543/postgres?sslmode=require
DATABASE_URL=postgres://postgres:YOUR_PASSWORD@db.YOUR_PROJECT_REF.supabase.co:6543/postgres?sslmode=require

# Supabase service role key (bypasses RLS for migrations and system operations)
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# Supabase public configuration
SUPABASE_URL=https://YOUR_PROJECT_REF.supabase.co
SUPABASE_ANON_KEY=your_anon_key_here

# =============================================================================
# SSL CONFIGURATION
# =============================================================================
# SSL mode for database connections: require|prefer|no-verify|disable
DB_SSL_MODE=require
MIGRATION_SSL_MODE=require

# SSL certificate paths (automatically configured in Docker)
DB_SSL_ROOT_CERT_PATH=/etc/ssl/certs/supabase-ca.crt
MIGRATION_SSL_ROOT_CERT_PATH=/etc/ssl/certs/supabase-ca.crt

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis URL for caching and session management
REDIS_URL=your_redis_url_here
REDIS_TLS=true

# =============================================================================
# OPENAI CONFIGURATION
# =============================================================================
# OpenAI API key for content generation
OPENAI_API_KEY=your_openai_api_key_here

# Budget controls
DAILY_OPENAI_LIMIT_USD=5.0
POSTING_DISABLED=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable major system components
REAL_METRICS_ENABLED=true
MIGRATIONS_RUNTIME_ENABLED=true
PIPELINE_TESTS_ENABLED=false
ALLOW_FALLBACK_GENERATION=false
ALLOW_LLM_CACHE_WARMUP=false

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
NODE_ENV=production
APP_ENV=production

# =============================================================================
# MIGRATION FLAGS (automatically set by scripts)
# =============================================================================
# These are set automatically by the migration system
# MIGRATIONS_ALREADY_RAN=true

# =============================================================================
# OPTIONAL: Browser automation (if using Playwright)
# =============================================================================
# PLAYWRIGHT_BROWSERS_PATH=/ms-playwright
