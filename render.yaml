services:
  - type: background_worker
    name: autonomous-health-bot
    runtime: node
    buildCommand: npm install --include=dev && npm run build
    startCommand: node dist/main.js
    plan: starter
    envVars:
      - key: NODE_ENV
        value: production
      - key: TZ
        value: UTC
      
      # Twitter API Configuration
      - key: TWITTER_APP_KEY
        sync: false
      - key: TWITTER_APP_SECRET
        sync: false
      - key: TWITTER_ACCESS_TOKEN
        sync: false
      - key: TWITTER_ACCESS_SECRET
        sync: false
      - key: TWITTER_BEARER_TOKEN
        sync: false
      
      # Database Configuration
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_SERVICE_ROLE_KEY
        sync: false
      
      # AI Configuration
      - key: OPENAI_API_KEY
        sync: false
      - key: NEWS_API_KEY
        sync: false
      
      # HUMAN-LIKE BEHAVIOR SETTINGS (Prevent Account Locks)
      - key: DISABLE_BOT
        value: false
      - key: MAX_DAILY_TWEETS
        value: 8
      - key: AGGRESSIVE_ENGAGEMENT_MODE
        value: false
      - key: GHOST_ACCOUNT_SYNDROME_FIX
        value: false
      - key: COMMUNITY_ENGAGEMENT_FREQUENCY
        value: every_4_hours
      - key: VIRAL_OPTIMIZATION_MODE
        value: moderate
      - key: ALGORITHMIC_BOOST_LEVEL
        value: subtle
      - key: POST_FREQUENCY_MINUTES
        value: 180
      - key: ENGAGEMENT_TARGET_DAILY
        value: 20
      - key: AUTO_REPLY_ENABLED
        value: false
      - key: AUTO_FOLLOW_ENABLED
        value: false
      - key: TRENDING_HASHTAG_TRACKING
        value: true
      - key: REAL_TIME_OPTIMIZATION
        value: true
      - key: DAILY_BUDGET_LIMIT
        value: 2.00
      - key: PORT
        value: 3000