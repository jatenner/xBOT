services:
  - type: web
    name: autonomous-health-bot
    runtime: node
    buildCommand: npm install
    startCommand: node index.js
    envVars:
      - key: NODE_ENV
        value: production
      - key: TZ
        value: UTC
      
      # Twitter API Configuration
      - key: TWITTER_APP_KEY
        sync: false
      - key: TWITTER_APP_SECRET
        sync: false
      - key: TWITTER_ACCESS_TOKEN
        sync: false
      - key: TWITTER_ACCESS_SECRET
        sync: false
      - key: TWITTER_BEARER_TOKEN
        sync: false
      
      # Database Configuration
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_SERVICE_ROLE_KEY
        sync: false
      
      # AI Configuration
      - key: OPENAI_API_KEY
        sync: false
      - key: NEWS_API_KEY
        sync: false
      
      # üß¨ SIMPLIFIED BOT SETTINGS
      - key: DISABLE_BOT
        value: false
      - key: MAX_DAILY_TWEETS
        value: 8
      - key: POST_FREQUENCY_HOURS
        value: 3
      
      # üîê SAFETY SETTINGS
      - key: RATE_LIMIT_SAFETY
        value: true
      - key: SPAM_PREVENTION
        value: true
      - key: HUMAN_LIKE_TIMING
        value: true
      
      # API KEYS (From Render secrets)
      - key: TWITTER_APP_KEY
        fromSecret: TWITTER_APP_KEY
      - key: TWITTER_APP_SECRET
        fromSecret: TWITTER_APP_SECRET  
      - key: TWITTER_ACCESS_TOKEN
        fromSecret: TWITTER_ACCESS_TOKEN
      - key: TWITTER_ACCESS_SECRET
        fromSecret: TWITTER_ACCESS_SECRET
      - key: TWITTER_BEARER_TOKEN
        fromSecret: TWITTER_BEARER_TOKEN
      - key: OPENAI_API_KEY
        fromSecret: OPENAI_API_KEY
      - key: SUPABASE_URL
        fromSecret: SUPABASE_URL
      - key: SUPABASE_SERVICE_ROLE_KEY
        fromSecret: SUPABASE_SERVICE_ROLE_KEY
      - key: NEWS_API_KEY
        fromSecret: NEWS_API_KEY
      - key: PEXELS_API_KEY
        fromSecret: PEXELS_API_KEY
      - key: GUARDIAN_API_KEY
        fromSecret: GUARDIAN_API_KEY
      - key: PORT
        value: 3000